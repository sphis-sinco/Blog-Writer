import json, sys
from os import listdir
from os.path import isfile, join

iteration = 4

folderMode = False
folder = ''

fileNames = []
filePaths = []
fileJsons = []

if sys.argv.__len__() < 2:
        folderMode = input('Folder mode? (Y/N)\n>').lower() == 'y'
        folder = input('What folder are these files in? (leave blank if no folder)\n> ')
        if not folderMode:
                fileNames = input('Give filenames (Seperated by comma, exclude extension)\n> ').split(',')
else:
        folderMode = sys.argv[1].lower() == 'y'
        folder = sys.argv[2]
        if not folderMode:
                fileNames = sys.argv[3].split(',')

if folderMode:
        fileNames = [f for f in listdir(folder) if isfile(join(folder, f))]

for file in fileNames:
        fileNames.remove(file)
        fileNames.append(file.removesuffix('.json'))

print(fileNames)
sys.exit()

if folder.__len__() > 0:
        folder += '/'

for fileName in fileNames:
        filePaths.append(folder + fileName + '.json')

for file in filePaths:
        jsonFile = open(file, 'r')
        jsonData = json.load(jsonFile)
        fileJsons.append(jsonData)

finalJson = ''    

for data in fileJsons:
        finalJson += ('# '+data['title']+' ('+data['date']+')\n'+data['content'] + '\n\n')

finalJson += 'Generated by Blog Writer Iteration '+str(iteration)

print('\n\nPaths: ') 
for path in filePaths:
        print('* ' + path)
print('\n\nCopy this: ') 
print(finalJson)